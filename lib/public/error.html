<html>
  <head>
    <title>{error}</title>
    <style>{style}</style>
    <style>
    /* Pretty printing styles. Used with prettify.js. */

    /* SPAN elements with the classes below are added by prettyprint. */
    .pln { color: #000 }  /* plain text */

    @media screen {
      .str { color: #080 }  /* string content */
      .kwd { color: #008 }  /* a keyword */
      .com { color: #800 }  /* a comment */
      .typ { color: #606 }  /* a type name */
      .lit { color: #066 }  /* a literal value */
      /* punctuation, lisp open bracket, lisp close bracket */
      .pun, .opn, .clo { color: #660 }
      .tag { color: #008 }  /* a markup tag name */
      .atn { color: #606 }  /* a markup attribute name */
      .atv { color: #080 }  /* a markup attribute value */
      .dec, .var { color: #606 }  /* a declaration; a variable name */
      .fun { color: red }  /* a function name */
    }

    /* Use higher contrast and text-weight for printable form. */
    @media print, projection {
      .str { color: #060 }
      .kwd { color: #006; font-weight: bold }
      .com { color: #600; font-style: italic }
      .typ { color: #404; font-weight: bold }
      .lit { color: #044 }
      .pun, .opn, .clo { color: #440 }
      .tag { color: #006; font-weight: bold }
      .atn { color: #404 }
      .atv { color: #060 }
    }

    /* Put a border around prettyprinted code snippets. */
    pre.prettyprint { padding: 2px; border: 1px solid #888 }

    /* Specify class=linenums on a pre to get line numbering */
    ol.linenums { margin-top: 0; margin-bottom: 0 } /* IE indents via margin-left */
    li.L0,
    li.L1,
    li.L2,
    li.L3,
    li.L5,
    li.L6,
    li.L7,
    li.L8 { list-style-type: none }
    /* Alternate shading for lines */
    li.L1,
    li.L3,
    li.L5,
    li.L7,
    li.L9 { background: #eee }
    
    </style>
  </head>
  <body>
    <div id="wrapper">
      <h1>{title}</h1>
      <h2><em>500</em> {error}</h2>
      <ul id="stacktrace">{stack}</ul>
    </div>
    
    <script>
    (function(exports){
      exports.$ = function(selector, handler, context) {
        context = context || document;
        var list = Array.prototype.slice.apply(context.querySelectorAll(selector)).forEach((handler || function(){}));
        return list;
      };
      
      var pre = $('li pre');
      
      $('li', function(el) {
        el.addEventListener('click', function(e) {
          var t = (e.target || e.srcElement),
          li = t instanceof HTMLLIElement ? t : (t.parentElement || t.parentNode);
          
          $('pre', function(el) {
            var display = el.style.display;
            el.style.display = display === 'block' ? 'none' : 'block';
          }, li);

        }, false);
      });
      
    })(this);
    </script>
  </body>
</html>